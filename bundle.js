(()=>{"use strict";var t={791:(t,e,n)=>{n.d(e,{A:()=>c});var r=n(942),i=n.n(r),o=n(278),a=n.n(o)()(i());a.push([t.id,'#savedCitiesList {\n  border-top: 1px dashed #000;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style-type: none;\n  padding: 20px;\n  gap: 20px;\n  cursor: pointer;\n}\n\n#app {\n  max-width: 1440px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#currentWeather {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n#inputGroup {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n\n#map {\n  margin: 40px;\n  width: 100%;\n  height: 400px;\n}\n\n.ymap {\n  display: block;\n  margin: 0 auto;\n}\n\n#currentTemp,\n#currentCity {\n  font-size: 24px;\n  font-weight: 700;\n}\n#currentTemp::after {\n  content: " °C";\n}\n',"",{version:3,sources:["webpack://./style.css"],names:[],mappings:"AAAA;EACE,2BAA2B;EAC3B,aAAa;EACb,eAAe;EACf,8BAA8B;EAC9B,qBAAqB;EACrB,aAAa;EACb,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,cAAc;EACd,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,SAAS;AACX;AACA;EACE,aAAa;EACb,eAAe;EACf,SAAS;AACX;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,aAAa;AACf;;AAEA;EACE,cAAc;EACd,cAAc;AAChB;;AAEA;;EAEE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,cAAc;AAChB",sourcesContent:['#savedCitiesList {\n  border-top: 1px dashed #000;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style-type: none;\n  padding: 20px;\n  gap: 20px;\n  cursor: pointer;\n}\n\n#app {\n  max-width: 1440px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#currentWeather {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n#inputGroup {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n\n#map {\n  margin: 40px;\n  width: 100%;\n  height: 400px;\n}\n\n.ymap {\n  display: block;\n  margin: 0 auto;\n}\n\n#currentTemp,\n#currentCity {\n  font-size: 24px;\n  font-weight: 700;\n}\n#currentTemp::after {\n  content: " °C";\n}\n'],sourceRoot:""}]);const c=a},278:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var u=0;u<t.length;u++){var p=[].concat(t[u]);r&&a[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),i&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=i):p[4]="".concat(i)),e.push(p))}},e}},942:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},292:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],c=0;c<t.length;c++){var s=t[c],u=r.base?s[0]+r.base:s[0],p=o[u]||0,l="".concat(u," ").concat(p);o[u]=p+1;var f=n(l),d={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var h=i(d,r);r.byIndex=c,e.splice(c,0,{identifier:l,updater:h,references:1})}a.push(l)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var c=n(o[a]);e[c].references--}for(var s=r(t,i),u=0;u<o.length;u++){var p=n(o[u]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}o=s}}},383:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},88:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},884:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},893:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},997:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(292),e=n.n(t),r=n(893),i=n.n(r),o=n(383),a=n.n(o),c=n(884),s=n.n(c),u=n(88),p=n.n(u),l=n(997),f=n.n(l),d=n(791),h={};function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){var r,i,o,a;r=t,i=e,o=n[e],(i="symbol"==typeof(a=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i))?a:String(a))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e){const n=e.split(".");let r=t,i=0;for(;i<n.length;){const t=n[i];if(!r[t])return;r=r[t],i+=1}return r}function v(t,e){let n=t;return Array.from(t.matchAll(/\{\{for (\w+) as (\w+)\}\}([\s\S]+?)\{\{endfor\}\}/g)).forEach((t=>{const r=t[1],i=t[2],o=t[3],a=e[r]||[];let c="";a.forEach(((t,n)=>{const r=n===a.length-1,s=n!==a.length-1,u=0===n,p=0!==n;c+=v(o,A(A({},e),{},{[i]:t,index:n,isFirst:u,isLast:r,isNotFirst:p,isNotLast:s}))})),n=n.replace(t[0],c)})),Array.from(t.matchAll(/\{\{if (\w+)\}\}([\s\S]+?)\{\{endif\}\}/g)).forEach((t=>{const r=t[1],i=t[2];let o=e[r];r.includes(".")&&(o=y(e,r)),n=o?n.replace(t[0],i):n.replace(t[0],"")})),Array.from(t.matchAll(/\{\{((\w+)(\.?\w+)*)\}\}/g)).forEach((t=>{const r=t[1];let i="";void 0!==e[r]&&(i=String(e[r])),r.includes(".")&&(i=y(e,r)),n=null!=i?n.replace(t[0],i):n.replace(t[0],i||"")})),n}h.styleTagTransform=f(),h.setAttributes=s(),h.insert=a().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p(),e()(d.A,h),d.A&&d.A.locals&&d.A.locals;const b="cities",g={cities:[],listeners:[],init(){this.loadItems()},loadItems(){return this.cities=function(t){let e;try{const n=localStorage.getItem(t);e=null===n?null:JSON.parse(n)}catch(t){e=null}return e}(b)||[],this.cities},saveItems(){!function(t,e){const n=JSON.stringify(e);localStorage.setItem(t,n)}(b,this.cities)},addCity(t){if(!t)return!1;const e=t.toUpperCase(),n=[e];for(let t=0;t<this.cities.length;t+=1)this.cities[t]!==e&&n.push(this.cities[t]);return 11===n.length&&n.pop(),this.cities=n,this.saveItems(),this.listeners.forEach((t=>t(this.cities))),e},subscribe(t){this.listeners.push(t)}};function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){var r;return(e="symbol"==typeof(r=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e))?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class x{constructor(t,e){w(this,"state",{}),w(this,"events",{}),this.el=t,this.setState(e),this.el=t,this.onMount(t)}setEventHandlers(){Object.entries(this.events).forEach((([t,e])=>{const[n,r]=t.split("@");this.el.addEventListener(n,(t=>{null!==t.target&&t.target instanceof HTMLElement&&t.target.matches(r)&&e(t)}))}))}setState(t){this.state=E(E({},this.state),t),this.render()}onMount(t){const{innerHTML:e}=t;this.el.innerHTML=e}render(){return this.el.innerHTML="",""}}function j(t,e,n){var r;return(e="symbol"==typeof(r=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e))?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const O=function(t,e,n){const r=document.createElement("div");return r.id="app",t.append(r),r}(document.body);new class extends x{constructor(t,e){super(t,e),j(this,"onSubmit",(t=>{t.preventDefault();const e=this.el.querySelector("#inputCity"),n=e.value.trim();""!==n&&(this.updateWeather(n),e.value="")})),j(this,"onCitySelect",(t=>{t.preventDefault();const e=t.target.innerHTML;this.updateWeather(e)})),j(this,"updateWeather",(async t=>{const e=await async function(t,e="ru"){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=ab4639f5754271e773ed6d3ffd73f327&units=metric&lang=${e}`),r=await n.json();let i,o,a,c;return 200!==r.cod?null:(i=r.name,o=String(Math.round(r.main.temp)),a=r.weather[0].icon,c=[r.coord.lon,r.coord.lat],{city:i,temp:o,icon:a,coord:c})}(t);null!==e&&(this.setState({currentCity:e.city,currentTemp:e.temp,currentIcon:e.icon,coord:{lat:e.coord[0],lon:e.coord[1]}}),g.addCity(e.city),this.el.innerHTML=this.render())})),j(this,"events",{"submit@form#inputGroup":this.onSubmit,"click@li.savedCity":this.onCitySelect}),g.init(),g.subscribe((()=>{this.setState({cities:g.cities})}))}init(){(void 0!==this.state.currentCity?new Promise((t=>{t(this.state.currentCity)})):async function(){const t=await fetch("https://get.geojs.io/v1/ip/geo.json");return(await t.json()).city}()).then((t=>this.updateWeather(t))).then((()=>{this.onMount(this.el),this.setEventHandlers()}))}render(){const{currentCity:t,currentTemp:e,currentIcon:n,coord:r}=this.state;return v('\n    <h1 id="header">Прогноз погоды</h1>\n    <div id="currentWeather">\n      <div id="currentCity">{{if currentCity}}{{currentCity}}{{endif}}</div>\n      <div id="currentTemp">{{if currentTemp}}{{currentTemp}}{{endif}}</div>\n      <div id="currentIcon">\n      {{if currentIcon}}<img src="https://openweathermap.org/img/wn/{{currentIcon}}@2x.png">{{endif}}\n      </div>\n    </div>\n    <form id="inputGroup"><input id="inputCity" placeholder="Enter city">\n    <button type="submit" id="submitBtn">Получить погоду</button>\n    </form>\n    <ul id="savedCitiesList">\n      {{for cities as city}}\n        <li class="savedCity">{{city}}</li>\n      {{endfor}}\n    </ul>\n    <div id="map">{{if coord}}\n    <img class="ymap" src="https://static-maps.yandex.ru/v1?ll={{coord.lat}},{{coord.lon}}&lang=ru_RU&z=12&pt={{coord.lat}},{{coord.lon}},comma&apikey=b7d16e2b-938b-4809-b74b-5ae97b162f00">\n    {{endif}}</div>',{currentCity:t,currentTemp:e,currentIcon:n,cities:[...g.cities],coord:r})}}(O,{currentCity:"tula"}).init()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0UsTUFxQk0sWUFBRWlDLEVBQVcsWUFBRUMsRUFBVyxZQUFFQyxFQUFXLE1BQUVYLEdBQVU1TSxLQUFLbUwsTUFFOUQsT0FBT2pFLEVBdkJjLDQ1QkF1QlEsQ0FBRW1HLGNBQWFDLGNBQWFDLGNBQWE1RSxPQUR2RCxJQUFJNkUsRUFBWTdFLFFBQytDaUUsU0FDaEYsR0YvRlV0QixFQUFLLENBQUUrQixZQUFhLFNBQVV4RSxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3R5bGUuY3NzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovLy8uL3N0eWxlLmNzcz8wZDQzIiwid2VicGFjazovLy8uL3V0aWxzL3RlbXBsYXRlci50cyIsIndlYnBhY2s6Ly8vLi9zdG9yZS9jaXRpZXMtY2FjaGUudHMiLCJ3ZWJwYWNrOi8vLy4vanMvc3RvcmFnZS50cyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2Jhc2UtY29tcG9uZW50L2Jhc2UtY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL2luZGV4LnRzIiwid2VicGFjazovLy8uL3V0aWxzL2FwcGVuZFBhcmVudFdpdGhDaGlsZC50cyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3dlYXRoZXIvd2VhdGhlci50cyIsIndlYnBhY2s6Ly8vLi9hcGkvZ2V0LXdlYXRoZXIudHMiLCJ3ZWJwYWNrOi8vLy4vYXBpL2lwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAjc2F2ZWRDaXRpZXNMaXN0IHtcbiAgYm9yZGVyLXRvcDogMXB4IGRhc2hlZCAjMDAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBwYWRkaW5nOiAyMHB4O1xuICBnYXA6IDIwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuI2FwcCB7XG4gIG1heC13aWR0aDogMTQ0MHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuI2N1cnJlbnRXZWF0aGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAyMHB4O1xufVxuI2lucHV0R3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGdhcDogMjBweDtcbn1cblxuI21hcCB7XG4gIG1hcmdpbjogNDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNDAwcHg7XG59XG5cbi55bWFwIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuXG4jY3VycmVudFRlbXAsXG4jY3VycmVudENpdHkge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG59XG4jY3VycmVudFRlbXA6OmFmdGVyIHtcbiAgY29udGVudDogXCIgwrBDXCI7XG59XG5gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLDJCQUEyQjtFQUMzQixhQUFhO0VBQ2IsZUFBZTtFQUNmLDhCQUE4QjtFQUM5QixxQkFBcUI7RUFDckIsYUFBYTtFQUNiLFNBQVM7RUFDVCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLFNBQVM7QUFDWDtBQUNBO0VBQ0UsYUFBYTtFQUNiLGVBQWU7RUFDZixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxZQUFZO0VBQ1osV0FBVztFQUNYLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxjQUFjO0FBQ2hCOztBQUVBOztFQUVFLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGNBQWM7QUFDaEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiI3NhdmVkQ2l0aWVzTGlzdCB7XFxuICBib3JkZXItdG9wOiAxcHggZGFzaGVkICMwMDA7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbiAgcGFkZGluZzogMjBweDtcXG4gIGdhcDogMjBweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuI2FwcCB7XFxuICBtYXgtd2lkdGg6IDE0NDBweDtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4jY3VycmVudFdlYXRoZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZ2FwOiAyMHB4O1xcbn1cXG4jaW5wdXRHcm91cCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgZ2FwOiAyMHB4O1xcbn1cXG5cXG4jbWFwIHtcXG4gIG1hcmdpbjogNDBweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA0MDBweDtcXG59XFxuXFxuLnltYXAge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBtYXJnaW46IDAgYXV0bztcXG59XFxuXFxuI2N1cnJlbnRUZW1wLFxcbiNjdXJyZW50Q2l0eSB7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICBmb250LXdlaWdodDogNzAwO1xcbn1cXG4jY3VycmVudFRlbXA6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCIgwrBDXFxcIjtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImZ1bmN0aW9uIGdldEl0ZW1EYXRhKG9iajogb2JqZWN0LCBrZXk6IHN0cmluZyk6IGFueSB7XG4gIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICBsZXQgZGF0YSA9IG9iajtcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG4gICAgY29uc3QgayA9IGtleXNbaV07XG5cbiAgICBpZiAoKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgYW55Pilba10pIHtcbiAgICAgIGRhdGEgPSAoZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KVtrXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaSArPSAxO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZTxUPih0cGw6IHN0cmluZywgZGF0YTogeyBba2V5OiBzdHJpbmddOiBUIH0pOiBzdHJpbmcge1xuICBsZXQgc3RyOiBzdHJpbmcgPSB0cGw7XG5cbiAgLy8gSGFuZGxlIFwibG9vcFwiIG1hdGNoZXNcbiAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9uc0lqakMvMVxuICBjb25zdCBsb29wTWF0Y2hlcyA9IEFycmF5LmZyb20odHBsLm1hdGNoQWxsKC9cXHtcXHtmb3IgKFxcdyspIGFzIChcXHcrKVxcfVxcfShbXFxzXFxTXSs/KVxce1xce2VuZGZvclxcfVxcfS9nKSk7XG4gIGxvb3BNYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgY29uc3QgaXRlbXMgPSBtYXRjaFsxXTtcbiAgICBjb25zdCBpdGVtID0gbWF0Y2hbMl07XG4gICAgY29uc3Qgc3ViVHBsID0gbWF0Y2hbM107XG4gICAgY29uc3QgaXRlcmFibGU6IHVua25vd25bXSA9IChkYXRhIGFzIHsgW2tleTogc3RyaW5nXTogYW55IH0pW2l0ZW1zXSB8fCBbXTtcbiAgICBsZXQgbmV3Q29udGVudCA9IFwiXCI7XG4gICAgaXRlcmFibGUuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpc0xhc3QgPSBpbmRleCA9PT0gaXRlcmFibGUubGVuZ3RoIC0gMTtcbiAgICAgIGNvbnN0IGlzTm90TGFzdCA9IGluZGV4ICE9PSBpdGVyYWJsZS5sZW5ndGggLSAxO1xuICAgICAgY29uc3QgaXNGaXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgY29uc3QgaXNOb3RGaXJzdCA9IGluZGV4ICE9PSAwO1xuICAgICAgbmV3Q29udGVudCArPSB0ZW1wbGF0ZShzdWJUcGwsIHsgLi4uZGF0YSwgW2l0ZW1dOiBlbCwgaW5kZXgsIGlzRmlyc3QsIGlzTGFzdCwgaXNOb3RGaXJzdCwgaXNOb3RMYXN0IH0pO1xuICAgIH0pO1xuICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCBuZXdDb250ZW50KTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlIFwiaWZcIiBtYXRjaGVzXG4gIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvbnNJampDLzFcbiAgY29uc3QgaWZNYXRjaGVzID0gQXJyYXkuZnJvbSh0cGwubWF0Y2hBbGwoL1xce1xce2lmIChcXHcrKVxcfVxcfShbXFxzXFxTXSs/KVxce1xce2VuZGlmXFx9XFx9L2cpKTtcbiAgaWZNYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gbWF0Y2hbMV07XG4gICAgY29uc3Qgc3ViVHBsID0gbWF0Y2hbMl07XG4gICAgbGV0IGNvbmRpdGlvbjogdW5rbm93biA9IGRhdGFba2V5XTtcbiAgICBpZiAoa2V5LmluY2x1ZGVzKFwiLlwiKSkgY29uZGl0aW9uID0gZ2V0SXRlbURhdGEoZGF0YSwga2V5KTtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgc3ViVHBsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gc3RyLnJlcGxhY2UobWF0Y2hbMF0sIFwiXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gSGFuZGxlIFwicGF0dGVyblwiIG1hdGNoZXNcbiAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9uc0lqakMvMVxuICBjb25zdCBwYXR0ZXJuTWF0Y2hlcyA9IEFycmF5LmZyb20odHBsLm1hdGNoQWxsKC9cXHtcXHsoKFxcdyspKFxcLj9cXHcrKSopXFx9XFx9L2cpKTtcbiAgcGF0dGVybk1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICBjb25zdCBrZXkgPSBtYXRjaFsxXTtcbiAgICBsZXQgaXRlbURhdGE6IHN0cmluZyA9IFwiXCI7XG4gICAgaWYgKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSBpdGVtRGF0YSA9IFN0cmluZyhkYXRhW2tleV0pO1xuICAgIGlmIChrZXkuaW5jbHVkZXMoXCIuXCIpKSBpdGVtRGF0YSA9IGdldEl0ZW1EYXRhKGRhdGEsIGtleSk7XG4gICAgaWYgKGl0ZW1EYXRhICE9PSB1bmRlZmluZWQgJiYgaXRlbURhdGEgIT09IG51bGwpIHtcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCBpdGVtRGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCBpdGVtRGF0YSB8fCBcIlwiKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc3RyO1xufVxuIiwiaW1wb3J0IHsgZ2V0TG9jYWxTdG9yYWdlSXRlbSwgc2V0TG9jYWxTdG9yYWdlSXRlbSB9IGZyb20gXCIuLi9qcy9zdG9yYWdlXCI7XG5cbmNvbnN0IENJVFlfTElTVCA9IFwiY2l0aWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2l0aWVzOiBbXSBhcyBzdHJpbmdbXSxcbiAgbGlzdGVuZXJzOiBbXSBhcyBGdW5jdGlvbltdLFxuICBpbml0KCkge1xuICAgIHRoaXMubG9hZEl0ZW1zKCk7XG4gIH0sXG4gIGxvYWRJdGVtcygpIHtcbiAgICB0aGlzLmNpdGllcyA9IChnZXRMb2NhbFN0b3JhZ2VJdGVtKENJVFlfTElTVCkgfHwgW10pIGFzIHN0cmluZ1tdO1xuICAgIHJldHVybiB0aGlzLmNpdGllcztcbiAgfSxcbiAgc2F2ZUl0ZW1zKCkge1xuICAgIHNldExvY2FsU3RvcmFnZUl0ZW0oQ0lUWV9MSVNULCB0aGlzLmNpdGllcyk7XG4gIH0sXG4gIGFkZENpdHkoY2l0eU5hbWU6IHN0cmluZykge1xuICAgIGlmICghY2l0eU5hbWUpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBuZXdJdGVtID0gY2l0eU5hbWUudG9VcHBlckNhc2UoKTtcbiAgICBjb25zdCB0ZW1wQXJyID0gW25ld0l0ZW1dO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaXRpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmICh0aGlzLmNpdGllc1tpXSAhPT0gbmV3SXRlbSkge1xuICAgICAgICB0ZW1wQXJyLnB1c2godGhpcy5jaXRpZXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGVtcEFyci5sZW5ndGggPT09IDExKSB0ZW1wQXJyLnBvcCgpO1xuICAgIHRoaXMuY2l0aWVzID0gdGVtcEFycjtcblxuICAgIHRoaXMuc2F2ZUl0ZW1zKCk7XG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKHRoaXMuY2l0aWVzKSk7XG4gICAgcmV0dXJuIG5ld0l0ZW07XG4gIH0sXG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiBGdW5jdGlvbikge1xuICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9LFxufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2VJdGVtKGtleTogc3RyaW5nKSB7XG4gIGxldCByZXN1bHQ7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICByZXN1bHQgPSByZXMgPT09IG51bGwgPyBudWxsIDogSlNPTi5wYXJzZShyZXMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXN1bHQgPSBudWxsO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2VJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgc3RyaW5nW10pIHtcbiAgY29uc3Qgc2F2ZWRWYWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgc2F2ZWRWYWx1ZSk7XG59XG4iLCJleHBvcnQgY2xhc3MgQmFzZUNvbXBvbmVudDxTdGF0ZSA9IHt9PiB7XG4gIHByb3RlY3RlZCBzdGF0ZTogUGFydGlhbDxTdGF0ZT4gPSB7fSBhcyBTdGF0ZTtcblxuICBwcm90ZWN0ZWQgZXZlbnRzOiB7XG4gICAgW2tleTogc3RyaW5nXTogKGV2OiBFdmVudCkgPT4gdm9pZDtcbiAgfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBlbDogSFRNTEVsZW1lbnQsXG4gICAgaW5pdGlhbFN0YXRlPzogUGFydGlhbDxTdGF0ZT4sXG4gICkge1xuICAgIHRoaXMuc2V0U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICB0aGlzLmVsID0gZWw7XG4gICAgdGhpcy5vbk1vdW50KGVsKTtcbiAgfVxuXG4gIHNldEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5ldmVudHMpLmZvckVhY2goKFtrZXksIGNhbGxiYWNrXSkgPT4ge1xuICAgICAgY29uc3QgW2FjdGlvbiwgc2VsZWN0b3JdID0ga2V5LnNwbGl0KFwiQFwiKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihhY3Rpb24sIChldjogRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2LnRhcmdldCAhPT0gbnVsbCAmJiBldi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgIGlmIChldi50YXJnZXQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNldFN0YXRlKHBhdGNoOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCAuLi5wYXRjaCB9O1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25Nb3VudChlbDogSFRNTEVsZW1lbnQpIHtcbiAgICAvLyB1c2VsZXNzIGFjdGl2aXR5XG4gICAgY29uc3QgeyBpbm5lckhUTUwgfSA9IGVsO1xuICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBzdHJpbmcge1xuICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gXCJcIjtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCB7IFdlYXRoZXIgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dlYXRoZXIvd2VhdGhlclwiO1xuLy8gaW1wb3J0IGdldENpdHlCeUlQIGZyb20gXCIuL2FwaS9pcFwiO1xuaW1wb3J0IGFwcGVuZFBhcmVudFdpdGhDaGlsZCBmcm9tIFwiLi91dGlscy9hcHBlbmRQYXJlbnRXaXRoQ2hpbGRcIjtcblxuLy8g0JfQsNC/0YPRgdC6INGBINC90LDRh9Cw0LvRjNC90YvQvCDRgdC+0YHRgtC+0Y/QvdC40LXQvFxuY29uc3QgYXBwID0gYXBwZW5kUGFyZW50V2l0aENoaWxkKGRvY3VtZW50LmJvZHksIFwiZGl2XCIsIFwiYXBwXCIpO1xubmV3IFdlYXRoZXIoYXBwLCB7IGN1cnJlbnRDaXR5OiBcInR1bGFcIiB9KS5pbml0KCk7XG5cbi8vIC8vINCX0LDQv9GD0YHQuiDRgSDQv9GD0YHRgtGL0Lwg0L3QsNGH0LDQu9GM0L3Ri9C8INGB0L7RgdGC0L7Rj9C90LjQtdC8XG4vLyBjb25zdCBhcHAyID0gYXBwZW5kUGFyZW50V2l0aENoaWxkKGRvY3VtZW50LmJvZHksIFwiZGl2XCIsIFwiYXBwXCIpO1xuLy8gbmV3IFdlYXRoZXIoYXBwMiwge30pLmluaXQoKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGVuZFBhcmVudFdpdGhDaGlsZChwYXJlbnRFbDogSFRNTEVsZW1lbnQsIHRhZzogc3RyaW5nLCBjaGlsZElkPzogc3RyaW5nKSB7XG4gIGNvbnN0IGNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBpZiAoY2hpbGRJZCkge1xuICAgIGNoaWxkLmlkID0gY2hpbGRJZDtcbiAgfVxuICBwYXJlbnRFbC5hcHBlbmQoY2hpbGQpO1xuICByZXR1cm4gY2hpbGQ7XG59XG4iLCJpbXBvcnQgeyB0ZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi91dGlscy90ZW1wbGF0ZXJcIjtcbmltcG9ydCBnZXRXZWF0aGVySW5DaXR5IGZyb20gXCIuLi8uLi9hcGkvZ2V0LXdlYXRoZXJcIjtcbmltcG9ydCBjaXRpZXNDYWNoZSBmcm9tIFwiLi4vLi4vc3RvcmUvY2l0aWVzLWNhY2hlXCI7XG5pbXBvcnQgZ2V0Q2l0eUJ5SVAgZnJvbSBcIi4uLy4uL2FwaS9pcFwiO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlLWNvbXBvbmVudC9iYXNlLWNvbXBvbmVudFwiO1xuXG5leHBvcnQgdHlwZSBTdGF0ZSA9IHtcbiAgY3VycmVudENpdHk6IHN0cmluZztcbiAgY3VycmVudFRlbXA6IHN0cmluZztcbiAgY3VycmVudEljb246IHN0cmluZztcbiAgY29vcmQ6IHtcbiAgICBsYXQ6IG51bWJlcjtcbiAgICBsb246IG51bWJlcjtcbiAgfTtcbn07XG5cbmV4cG9ydCBjbGFzcyBXZWF0aGVyIGV4dGVuZHMgQmFzZUNvbXBvbmVudDxTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIGluaXRpYWxTdGF0ZT86IFBhcnRpYWw8U3RhdGU+KSB7XG4gICAgc3VwZXIoZWwsIGluaXRpYWxTdGF0ZSk7XG4gICAgY2l0aWVzQ2FjaGUuaW5pdCgpO1xuICAgIGNpdGllc0NhY2hlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY2l0aWVzOiBjaXRpZXNDYWNoZS5jaXRpZXMgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgaW5pdCgpIHtcbiAgICBjb25zdCBpbml0aWFsQ2l0eSA9XG4gICAgICB0aGlzLnN0YXRlLmN1cnJlbnRDaXR5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnN0YXRlLmN1cnJlbnRDaXR5KTtcbiAgICAgICAgICB9KVxuICAgICAgICA6IGdldENpdHlCeUlQKCk7XG5cbiAgICBpbml0aWFsQ2l0eVxuICAgICAgLnRoZW4oKGNpdHkpID0+IHRoaXMudXBkYXRlV2VhdGhlcihjaXR5KSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5vbk1vdW50KHRoaXMuZWwpO1xuICAgICAgICB0aGlzLnNldEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBvblN1Ym1pdCA9IChldjogRXZlbnQpID0+IHtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGlucHV0Q2l0eUVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0Q2l0eVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGNpdHkgPSBpbnB1dENpdHlFbC52YWx1ZS50cmltKCk7XG4gICAgaWYgKGNpdHkgIT09IFwiXCIpIHtcbiAgICAgIHRoaXMudXBkYXRlV2VhdGhlcihjaXR5KTtcbiAgICAgIGlucHV0Q2l0eUVsLnZhbHVlID0gXCJcIjtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkNpdHlTZWxlY3QgPSAoZXY6IEV2ZW50KSA9PiB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgY2l0eSA9IHRhcmdldC5pbm5lckhUTUw7XG4gICAgdGhpcy51cGRhdGVXZWF0aGVyKGNpdHkpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlV2VhdGhlciA9IGFzeW5jIChjaXR5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB3ZWF0aGVyID0gYXdhaXQgZ2V0V2VhdGhlckluQ2l0eShjaXR5KTtcbiAgICBpZiAod2VhdGhlciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRDaXR5OiB3ZWF0aGVyLmNpdHksXG4gICAgICAgIGN1cnJlbnRUZW1wOiB3ZWF0aGVyLnRlbXAsXG4gICAgICAgIGN1cnJlbnRJY29uOiB3ZWF0aGVyLmljb24sXG4gICAgICAgIGNvb3JkOiB7IGxhdDogd2VhdGhlci5jb29yZFswXSwgbG9uOiB3ZWF0aGVyLmNvb3JkWzFdIH0sXG4gICAgICB9KTtcbiAgICAgIGNpdGllc0NhY2hlLmFkZENpdHkod2VhdGhlci5jaXR5KTtcbiAgICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgZXZlbnRzID0ge1xuICAgIFwic3VibWl0QGZvcm0jaW5wdXRHcm91cFwiOiB0aGlzLm9uU3VibWl0LFxuICAgIFwiY2xpY2tAbGkuc2F2ZWRDaXR5XCI6IHRoaXMub25DaXR5U2VsZWN0LFxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZVN0ciA9IGBcbiAgICA8aDEgaWQ9XCJoZWFkZXJcIj7Qn9GA0L7Qs9C90L7QtyDQv9C+0LPQvtC00Ys8L2gxPlxuICAgIDxkaXYgaWQ9XCJjdXJyZW50V2VhdGhlclwiPlxuICAgICAgPGRpdiBpZD1cImN1cnJlbnRDaXR5XCI+e3tpZiBjdXJyZW50Q2l0eX19e3tjdXJyZW50Q2l0eX19e3tlbmRpZn19PC9kaXY+XG4gICAgICA8ZGl2IGlkPVwiY3VycmVudFRlbXBcIj57e2lmIGN1cnJlbnRUZW1wfX17e2N1cnJlbnRUZW1wfX17e2VuZGlmfX08L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCJjdXJyZW50SWNvblwiPlxuICAgICAge3tpZiBjdXJyZW50SWNvbn19PGltZyBzcmM9XCJodHRwczovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24ve3tjdXJyZW50SWNvbn19QDJ4LnBuZ1wiPnt7ZW5kaWZ9fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGZvcm0gaWQ9XCJpbnB1dEdyb3VwXCI+PGlucHV0IGlkPVwiaW5wdXRDaXR5XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBjaXR5XCI+XG4gICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgaWQ9XCJzdWJtaXRCdG5cIj7Qn9C+0LvRg9GH0LjRgtGMINC/0L7Qs9C+0LTRgzwvYnV0dG9uPlxuICAgIDwvZm9ybT5cbiAgICA8dWwgaWQ9XCJzYXZlZENpdGllc0xpc3RcIj5cbiAgICAgIHt7Zm9yIGNpdGllcyBhcyBjaXR5fX1cbiAgICAgICAgPGxpIGNsYXNzPVwic2F2ZWRDaXR5XCI+e3tjaXR5fX08L2xpPlxuICAgICAge3tlbmRmb3J9fVxuICAgIDwvdWw+XG4gICAgPGRpdiBpZD1cIm1hcFwiPnt7aWYgY29vcmR9fVxuICAgIDxpbWcgY2xhc3M9XCJ5bWFwXCIgc3JjPVwiaHR0cHM6Ly9zdGF0aWMtbWFwcy55YW5kZXgucnUvdjE/bGw9e3tjb29yZC5sYXR9fSx7e2Nvb3JkLmxvbn19Jmxhbmc9cnVfUlUmej0xMiZwdD17e2Nvb3JkLmxhdH19LHt7Y29vcmQubG9ufX0sY29tbWEmYXBpa2V5PWI3ZDE2ZTJiLTkzOGItNDgwOS1iNzRiLTVhZTk3YjE2MmYwMFwiPlxuICAgIHt7ZW5kaWZ9fTwvZGl2PmA7XG5cbiAgICBjb25zdCB7IGN1cnJlbnRDaXR5LCBjdXJyZW50VGVtcCwgY3VycmVudEljb24sIGNvb3JkIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGNpdGllcyA9IFsuLi5jaXRpZXNDYWNoZS5jaXRpZXNdO1xuICAgIHJldHVybiB0ZW1wbGF0ZSh0ZW1wbGF0ZVN0ciwgeyBjdXJyZW50Q2l0eSwgY3VycmVudFRlbXAsIGN1cnJlbnRJY29uLCBjaXRpZXMsIGNvb3JkIH0pO1xuICB9XG59XG4iLCJjb25zdCBBUElfS0VZID0gXCJhYjQ2MzlmNTc1NDI3MWU3NzNlZDZkM2ZmZDczZjMyN1wiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBnZXRXZWF0aGVySW5DaXR5KFxuICBjaXR5TmFtZTogc3RyaW5nLFxuICBsYW5nID0gXCJydVwiLFxuKTogUHJvbWlzZTx7IGNpdHk6IHN0cmluZzsgdGVtcDogc3RyaW5nOyBpY29uOiBzdHJpbmc7IGNvb3JkOiBbbnVtYmVyLCBudW1iZXJdOyBjb2Q/OiBudW1iZXIgfSB8IG51bGw+IHtcbiAgY29uc3QgdW5pdHMgPSBcIm1ldHJpY1wiO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgIGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eU5hbWV9JmFwcGlkPSR7QVBJX0tFWX0mdW5pdHM9JHt1bml0c30mbGFuZz0ke2xhbmd9YCxcbiAgKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgbGV0IGNpdHk7XG4gIGxldCB0ZW1wO1xuICBsZXQgaWNvbjtcbiAgbGV0IGNvb3JkOiBbbnVtYmVyLCBudW1iZXJdO1xuICBpZiAoZGF0YS5jb2QgPT09IDIwMCkge1xuICAgIGNpdHkgPSBkYXRhLm5hbWU7XG4gICAgdGVtcCA9IFN0cmluZyhNYXRoLnJvdW5kKGRhdGEubWFpbi50ZW1wKSk7XG4gICAgaWNvbiA9IGRhdGEud2VhdGhlclswXS5pY29uO1xuICAgIGNvb3JkID0gW2RhdGEuY29vcmQubG9uLCBkYXRhLmNvb3JkLmxhdF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHsgY2l0eSwgdGVtcCwgaWNvbiwgY29vcmQgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGdldENpdHlCeUlQKCkge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vZ2V0Lmdlb2pzLmlvL3YxL2lwL2dlby5qc29uXCIpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXMuanNvbigpO1xuICByZXR1cm4gcmVzdWx0LmNpdHk7XG59XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwiZ2V0SXRlbURhdGEiLCJrZXlzIiwic3BsaXQiLCJ0ZW1wbGF0ZSIsInRwbCIsInN0ciIsIkFycmF5IiwiZnJvbSIsIm1hdGNoQWxsIiwiZm9yRWFjaCIsIm1hdGNoIiwiaXRlbXMiLCJzdWJUcGwiLCJpdGVyYWJsZSIsIm5ld0NvbnRlbnQiLCJlbCIsImlzTGFzdCIsImlzTm90TGFzdCIsImlzRmlyc3QiLCJpc05vdEZpcnN0IiwiX29iamVjdFNwcmVhZCIsInJlcGxhY2UiLCJjb25kaXRpb24iLCJpbmNsdWRlcyIsIml0ZW1EYXRhIiwiU3RyaW5nIiwibG9jYWxzIiwiQ0lUWV9MSVNUIiwiY2l0aWVzIiwibGlzdGVuZXJzIiwiaW5pdCIsImxvYWRJdGVtcyIsInJlcyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZSIsImVyciIsImdldExvY2FsU3RvcmFnZUl0ZW0iLCJzYXZlSXRlbXMiLCJ2YWx1ZSIsInNhdmVkVmFsdWUiLCJzZXRJdGVtIiwic2V0TG9jYWxTdG9yYWdlSXRlbSIsImFkZENpdHkiLCJjaXR5TmFtZSIsIm5ld0l0ZW0iLCJ0b1VwcGVyQ2FzZSIsInRlbXBBcnIiLCJwb3AiLCJsaXN0ZW5lciIsInN1YnNjcmliZSIsIkJhc2VDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsImluaXRpYWxTdGF0ZSIsIl9kZWZpbmVQcm9wZXJ0eSIsInNldFN0YXRlIiwib25Nb3VudCIsInNldEV2ZW50SGFuZGxlcnMiLCJlbnRyaWVzIiwiZXZlbnRzIiwiY2FsbGJhY2siLCJhY3Rpb24iLCJzZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsIkhUTUxFbGVtZW50IiwibWF0Y2hlcyIsInBhdGNoIiwic3RhdGUiLCJyZW5kZXIiLCJpbm5lckhUTUwiLCJhcHAiLCJwYXJlbnRFbCIsInRhZyIsImNoaWxkSWQiLCJjaGlsZCIsImFwcGVuZCIsImFwcGVuZFBhcmVudFdpdGhDaGlsZCIsImJvZHkiLCJzdXBlciIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRDaXR5RWwiLCJjaXR5IiwidHJpbSIsInVwZGF0ZVdlYXRoZXIiLCJhc3luYyIsIndlYXRoZXIiLCJsYW5nIiwicmVzcG9uc2UiLCJmZXRjaCIsImpzb24iLCJ0ZW1wIiwiaWNvbiIsImNvb3JkIiwiY29kIiwibmFtZSIsIk1hdGgiLCJyb3VuZCIsIm1haW4iLCJsb24iLCJsYXQiLCJnZXRXZWF0aGVySW5DaXR5IiwiY3VycmVudENpdHkiLCJjdXJyZW50VGVtcCIsImN1cnJlbnRJY29uIiwiY2l0aWVzQ2FjaGUiLCJvblN1Ym1pdCIsIm9uQ2l0eVNlbGVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0Q2l0eUJ5SVAiLCJ0aGVuIl0sInNvdXJjZVJvb3QiOiIifQ==