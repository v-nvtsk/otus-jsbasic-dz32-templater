(()=>{"use strict";var t={791:(t,e,n)=>{n.d(e,{A:()=>a});var r=n(942),i=n.n(r),o=n(278),s=n.n(o)()(i());s.push([t.id,'#savedCitiesList {\n  border-top: 1px dashed #000;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style-type: none;\n  padding: 20px;\n  gap: 20px;\n  cursor: pointer;\n}\n\n#app {\n  max-width: 1440px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#currentWeather {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n#inputGroup {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n\n#map {\n  margin: 40px;\n  width: 100%;\n  height: 400px;\n}\n\n.ymap {\n  display: block;\n  margin: 0 auto;\n}\n\n#currentTemp,\n#currentCity {\n  font-size: 24px;\n  font-weight: 700;\n}\n#currentTemp::after {\n  content: " °C";\n}\n',"",{version:3,sources:["webpack://./style.css"],names:[],mappings:"AAAA;EACE,2BAA2B;EAC3B,aAAa;EACb,eAAe;EACf,8BAA8B;EAC9B,qBAAqB;EACrB,aAAa;EACb,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,cAAc;EACd,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,SAAS;AACX;AACA;EACE,aAAa;EACb,eAAe;EACf,SAAS;AACX;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,aAAa;AACf;;AAEA;EACE,cAAc;EACd,cAAc;AAChB;;AAEA;;EAEE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,cAAc;AAChB",sourcesContent:['#savedCitiesList {\n  border-top: 1px dashed #000;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style-type: none;\n  padding: 20px;\n  gap: 20px;\n  cursor: pointer;\n}\n\n#app {\n  max-width: 1440px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#currentWeather {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n#inputGroup {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n\n#map {\n  margin: 40px;\n  width: 100%;\n  height: 400px;\n}\n\n.ymap {\n  display: block;\n  margin: 0 auto;\n}\n\n#currentTemp,\n#currentCity {\n  font-size: 24px;\n  font-weight: 700;\n}\n#currentTemp::after {\n  content: " °C";\n}\n'],sourceRoot:""}]);const a=s},278:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<t.length;u++){var p=[].concat(t[u]);r&&s[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),i&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=i):p[4]="".concat(i)),e.push(p))}},e}},942:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},292:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},s=[],a=0;a<t.length;a++){var c=t[a],u=r.base?c[0]+r.base:c[0],p=o[u]||0,l="".concat(u," ").concat(p);o[u]=p+1;var f=n(l),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var h=i(d,r);r.byIndex=a,e.splice(a,0,{identifier:l,updater:h,references:1})}s.push(l)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=n(o[s]);e[a].references--}for(var c=r(t,i),u=0;u<o.length;u++){var p=n(o[u]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}o=c}}},383:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},88:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},884:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},893:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},997:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(292),e=n.n(t),r=n(893),i=n.n(r),o=n(383),s=n.n(o),a=n(884),c=n.n(a),u=n(88),p=n.n(u),l=n(997),f=n.n(l),d=n(791),h={};h.styleTagTransform=f(),h.setAttributes=c(),h.insert=s().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p(),e()(d.A,h),d.A&&d.A.locals&&d.A.locals;const A="cities";function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){var r,i,o,s;r=t,i=e,o=n[e],(i="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i))?s:String(s))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e){const n=e.split(".");let r=t,i=0;for(;i<n.length;){const t=n[i];if(!r[t])return;r=r[t],i+=1}return r}function b(t,e){let n=t;return Array.from(t.matchAll(/\{\{for (\w+) as (\w+)\}\}([\s\S]+?)\{\{endfor\}\}/g)).forEach((t=>{const r=t[1],i=t[2],o=t[3],s=e[r]||[];let a="";s.forEach(((t,n)=>{const r=n===s.length-1,c=n!==s.length-1,u=0===n,p=0!==n;a+=b(o,y(y({},e),{},{[i]:t,index:n,isFirst:u,isLast:r,isNotFirst:p,isNotLast:c}))})),n=n.replace(t[0],a)})),Array.from(t.matchAll(/\{\{if (\w+.?\w+)\}\}([\s\S]+?)\{\{endif\}\}/g)).forEach((t=>{const r=t[1],i=t[2];let o=e[r];r.includes(".")&&(o=v(e,r)),n=o?n.replace(t[0],i):n.replace(t[0],"")})),Array.from(t.matchAll(/\{\{((\w+)(\.?\w+)*)\}\}/g)).forEach((t=>{const r=t[1];let i="";void 0!==e[r]&&(i=String(e[r])),r.includes(".")&&(i=v(e,r)),n=null!=i?n.replace(t[0],i):n.replace(t[0],i||"")})),n}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){var r;return(e="symbol"==typeof(r=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e))?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class w{constructor(t,e){E(this,"state",{}),E(this,"events",{}),this.el=t,this.el=t,setTimeout((()=>{this.setState(e),this.onMount()}),0)}setEventHandlers(){Object.entries(this.events).forEach((([t,e])=>{const[n,r]=t.split("@");this.el.querySelectorAll(r).forEach((t=>{t.addEventListener(n,e)}))}))}setState(t){if(void 0!==t){const e=C({},this.state);this.state=C(C({},this.state),t);const n=C({},this.state);JSON.stringify(e)!==JSON.stringify(n)&&(this.el.innerHTML=b(this.render(),this.state),this.onMount())}}onMount(){this.setEventHandlers()}render(){return""}}function x(t,e,n){var r;return(e="symbol"==typeof(r=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e))?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const j=function(t,e,n){const r=document.createElement("div");return r.id="app",t.append(r),r}(document.body);new class extends w{constructor(t,e){super(t,e),x(this,"citiesListener",(()=>{this.setState({cities:this.citiesCache.cities})})),x(this,"onSubmit",(t=>{t.preventDefault();const e=this.el.querySelector("#inputCity"),n=e.value.trim();""!==n&&(this.updateWeather(n),e.value="")})),x(this,"onCitySelect",(t=>{t.preventDefault();const e=t.target.innerHTML;this.updateWeather(e)})),x(this,"updateWeather",(async t=>{const e=await async function(t,e="ru"){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=ab4639f5754271e773ed6d3ffd73f327&units=metric&lang=${e}`),r=await n.json();let i,o,s,a;return 200!==r.cod?null:(i=r.name,o=String(Math.round(r.main.temp)),s=r.weather[0].icon,a=[r.coord.lon,r.coord.lat],{city:i,temp:o,icon:s,coord:a})}(t);null!==e&&(this.setState({currentCity:e.city,currentTemp:e.temp,currentIcon:e.icon,coord:{lat:e.coord[0],lon:e.coord[1]}}),this.citiesCache.addCity(e.city))})),x(this,"events",{"submit@form#inputGroup":this.onSubmit,"click@li.savedCity":this.onCitySelect}),this.citiesCache={cities:[],listeners:[],init(){this.loadItems()},loadItems(){return this.cities=function(t){let e;try{const n=localStorage.getItem(t);e=null===n?null:JSON.parse(n)}catch(t){e=null}return e}(A)||[],this.cities},saveItems(){!function(t,e){const n=JSON.stringify(e);localStorage.setItem(t,n)}(A,this.cities)},addCity(t){if(!t)return"";const e=t.toUpperCase(),n=[e];for(let t=0;t<this.cities.length;t+=1)this.cities[t]!==e&&n.push(this.cities[t]);return 11===n.length&&n.pop(),this.cities=n,this.saveItems(),this.listeners.forEach((t=>t(this.cities))),e},subscribe(t){this.listeners.push(t)},unsubscribe(t){this.listeners=this.listeners.filter((e=>e!==t))}},this.citiesCache.init(),this.citiesCache.subscribe(this.citiesListener)}init(){(void 0!==this.state.currentCity?new Promise((t=>{t(this.state.currentCity)})):async function(){const t=await fetch("https://get.geojs.io/v1/ip/geo.json");return(await t.json()).city}()).then((t=>this.updateWeather(t))).then((()=>{this.onMount()}))}onUnmount(){this.citiesCache.unsubscribe(this.citiesListener)}render(){return'\n    <h1 id="header">Прогноз погоды</h1>\n    <div id="currentWeather">\n      <div id="currentCity">{{if currentCity}}{{currentCity}}{{endif}}</div>\n      <div id="currentTemp">{{if currentTemp}}{{currentTemp}}{{endif}}</div>\n      <div id="currentIcon">\n      {{if currentIcon}}<img src="https://openweathermap.org/img/wn/{{currentIcon}}@2x.png">{{endif}}\n      </div>\n    </div>\n    <form id="inputGroup"><input id="inputCity" placeholder="Enter city">\n    <button type="submit" id="submitBtn">Получить погоду</button>\n    </form>\n    <ul id="savedCitiesList">\n      {{for cities as city}}\n        <li class="savedCity">{{city}}</li>\n      {{endfor}}\n    </ul>\n    <div id="map">{{if coord}}\n    <img class="ymap" src="https://static-maps.yandex.ru/v1?ll={{coord.lat}},{{coord.lon}}&lang=ru_RU&z=12&pt={{coord.lat}},{{coord.lon}},comma&apikey=b7d16e2b-938b-4809-b74b-5ae97b162f00">\n    {{endif}}</div>'}}(j,{currentCity:"tula"}).init()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFqTyxLQUFLNEosTUFBTXdDLFlBQVksSUc5QjVCbEIsaUJBQ2IsTUFBTTJCLFFBQVl0QixNQUFNLHVDQUV4QixhQURxQnNCLEVBQUlyQixRQUNYVixJQUNoQixDSDRCVW9ELElBR0hDLE1BQU1yRCxHQUFTOUssS0FBS2lMLGNBQWNILEtBQ2xDcUQsTUFBSyxLQUNKbk8sS0FBS2lKLFNBQVMsR0FFcEIsQ0FNQW1GLFNBQUFBLEdBQ0VwTyxLQUFLMEssWUFBWW1ELFlBQVk3TixLQUFLK04sZUFDcEMsQ0FzQ0FoRSxNQUFBQSxHQUNFLE1BQVEsMjVCQW9CVixHRm5HVUMsRUFBSyxDQUFFb0MsWUFBYSxTQUFVTyxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3R5bGUuY3NzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovLy8uL3N0eWxlLmNzcz8wZDQzIiwid2VicGFjazovLy8uL3N0b3JlL2NpdGllcy1jYWNoZS50cyIsIndlYnBhY2s6Ly8vLi91dGlscy90ZW1wbGF0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudC9iYXNlLWNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi91dGlscy9hcHBlbmRQYXJlbnRXaXRoQ2hpbGQudHMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy93ZWF0aGVyL3dlYXRoZXIudHMiLCJ3ZWJwYWNrOi8vLy4vYXBpL2dldC13ZWF0aGVyLnRzIiwid2VicGFjazovLy8uL2pzL3N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vYXBpL2lwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAjc2F2ZWRDaXRpZXNMaXN0IHtcbiAgYm9yZGVyLXRvcDogMXB4IGRhc2hlZCAjMDAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICBwYWRkaW5nOiAyMHB4O1xuICBnYXA6IDIwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuI2FwcCB7XG4gIG1heC13aWR0aDogMTQ0MHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuI2N1cnJlbnRXZWF0aGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAyMHB4O1xufVxuI2lucHV0R3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGdhcDogMjBweDtcbn1cblxuI21hcCB7XG4gIG1hcmdpbjogNDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNDAwcHg7XG59XG5cbi55bWFwIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuXG4jY3VycmVudFRlbXAsXG4jY3VycmVudENpdHkge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG59XG4jY3VycmVudFRlbXA6OmFmdGVyIHtcbiAgY29udGVudDogXCIgwrBDXCI7XG59XG5gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLDJCQUEyQjtFQUMzQixhQUFhO0VBQ2IsZUFBZTtFQUNmLDhCQUE4QjtFQUM5QixxQkFBcUI7RUFDckIsYUFBYTtFQUNiLFNBQVM7RUFDVCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLFNBQVM7QUFDWDtBQUNBO0VBQ0UsYUFBYTtFQUNiLGVBQWU7RUFDZixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxZQUFZO0VBQ1osV0FBVztFQUNYLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxjQUFjO0FBQ2hCOztBQUVBOztFQUVFLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGNBQWM7QUFDaEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiI3NhdmVkQ2l0aWVzTGlzdCB7XFxuICBib3JkZXItdG9wOiAxcHggZGFzaGVkICMwMDA7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbiAgcGFkZGluZzogMjBweDtcXG4gIGdhcDogMjBweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuI2FwcCB7XFxuICBtYXgtd2lkdGg6IDE0NDBweDtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4jY3VycmVudFdlYXRoZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZ2FwOiAyMHB4O1xcbn1cXG4jaW5wdXRHcm91cCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgZ2FwOiAyMHB4O1xcbn1cXG5cXG4jbWFwIHtcXG4gIG1hcmdpbjogNDBweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA0MDBweDtcXG59XFxuXFxuLnltYXAge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBtYXJnaW46IDAgYXV0bztcXG59XFxuXFxuI2N1cnJlbnRUZW1wLFxcbiNjdXJyZW50Q2l0eSB7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICBmb250LXdlaWdodDogNzAwO1xcbn1cXG4jY3VycmVudFRlbXA6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCIgwrBDXFxcIjtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCB7IGdldExvY2FsU3RvcmFnZUl0ZW0sIHNldExvY2FsU3RvcmFnZUl0ZW0gfSBmcm9tIFwiLi4vanMvc3RvcmFnZVwiO1xuXG5jb25zdCBDSVRZX0xJU1QgPSBcImNpdGllc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENpdGllc0NhY2hlIHtcbiAgY2l0aWVzOiBzdHJpbmdbXTtcbiAgbGlzdGVuZXJzOiBGdW5jdGlvbltdO1xuICBpbml0KCk6IHZvaWQ7XG4gIGxvYWRJdGVtcygpOiB2b2lkO1xuICBzYXZlSXRlbXMoKTogdm9pZDtcbiAgYWRkQ2l0eShjaXR5TmFtZTogc3RyaW5nKTogc3RyaW5nO1xuICBzdWJzY3JpYmUobGlzdGVuZXI6IEZ1bmN0aW9uKTogdm9pZDtcbiAgdW5zdWJzY3JpYmUobGlzdGVuZXI6IEZ1bmN0aW9uKTogdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQ2l0aWVzQ2FjaGUoKTogQ2l0aWVzQ2FjaGUge1xuICByZXR1cm4ge1xuICAgIGNpdGllczogW10gYXMgc3RyaW5nW10sXG4gICAgbGlzdGVuZXJzOiBbXSBhcyBGdW5jdGlvbltdLFxuICAgIGluaXQoKSB7XG4gICAgICB0aGlzLmxvYWRJdGVtcygpO1xuICAgIH0sXG4gICAgbG9hZEl0ZW1zKCkge1xuICAgICAgdGhpcy5jaXRpZXMgPSAoZ2V0TG9jYWxTdG9yYWdlSXRlbShDSVRZX0xJU1QpIHx8IFtdKSBhcyBzdHJpbmdbXTtcbiAgICAgIHJldHVybiB0aGlzLmNpdGllcztcbiAgICB9LFxuICAgIHNhdmVJdGVtcygpIHtcbiAgICAgIHNldExvY2FsU3RvcmFnZUl0ZW0oQ0lUWV9MSVNULCB0aGlzLmNpdGllcyk7XG4gICAgfSxcbiAgICBhZGRDaXR5KGNpdHlOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgaWYgKCFjaXR5TmFtZSkgcmV0dXJuIFwiXCI7XG4gICAgICBjb25zdCBuZXdJdGVtID0gY2l0eU5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgIGNvbnN0IHRlbXBBcnIgPSBbbmV3SXRlbV07XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2l0aWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmICh0aGlzLmNpdGllc1tpXSAhPT0gbmV3SXRlbSkge1xuICAgICAgICAgIHRlbXBBcnIucHVzaCh0aGlzLmNpdGllc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wQXJyLmxlbmd0aCA9PT0gMTEpIHRlbXBBcnIucG9wKCk7XG4gICAgICB0aGlzLmNpdGllcyA9IHRlbXBBcnI7XG5cbiAgICAgIHRoaXMuc2F2ZUl0ZW1zKCk7XG4gICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIodGhpcy5jaXRpZXMpKTtcbiAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgIH0sXG5cbiAgICBzdWJzY3JpYmUobGlzdGVuZXI6IEZ1bmN0aW9uKSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9LFxuICAgIHVuc3Vic2NyaWJlKGxpc3RlbmVyOiBGdW5jdGlvbikge1xuICAgICAgdGhpcy5saXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gbGlzdGVuZXIpO1xuICAgIH0sXG4gIH07XG59XG4iLCJmdW5jdGlvbiBnZXRJdGVtRGF0YShvYmo6IG9iamVjdCwga2V5OiBzdHJpbmcpOiBhbnkge1xuICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KFwiLlwiKTtcbiAgbGV0IGRhdGEgPSBvYmo7XG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgIGNvbnN0IGsgPSBrZXlzW2ldO1xuXG4gICAgaWYgKChkYXRhIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pW2tdKSB7XG4gICAgICBkYXRhID0gKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgYW55Pilba107XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGkgKz0gMTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGU8VD4odHBsOiBzdHJpbmcsIGRhdGE6IHsgW2tleTogc3RyaW5nXTogVCB9KTogc3RyaW5nIHtcbiAgbGV0IHN0cjogc3RyaW5nID0gdHBsO1xuXG4gIC8vIEhhbmRsZSBcImxvb3BcIiBtYXRjaGVzXG4gIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Ivd0IxZ0ZzLzFcbiAgY29uc3QgbG9vcE1hdGNoZXMgPSBBcnJheS5mcm9tKHRwbC5tYXRjaEFsbCgvXFx7XFx7Zm9yIChcXHcrKSBhcyAoXFx3KylcXH1cXH0oW1xcc1xcU10rPylcXHtcXHtlbmRmb3JcXH1cXH0vZykpO1xuICBsb29wTWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gbWF0Y2hbMV07XG4gICAgY29uc3QgaXRlbSA9IG1hdGNoWzJdO1xuICAgIGNvbnN0IHN1YlRwbCA9IG1hdGNoWzNdO1xuICAgIGNvbnN0IGl0ZXJhYmxlOiB1bmtub3duW10gPSAoZGF0YSBhcyB7IFtrZXk6IHN0cmluZ106IGFueSB9KVtpdGVtc10gfHwgW107XG4gICAgbGV0IG5ld0NvbnRlbnQgPSBcIlwiO1xuICAgIGl0ZXJhYmxlLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaXNMYXN0ID0gaW5kZXggPT09IGl0ZXJhYmxlLmxlbmd0aCAtIDE7XG4gICAgICBjb25zdCBpc05vdExhc3QgPSBpbmRleCAhPT0gaXRlcmFibGUubGVuZ3RoIC0gMTtcbiAgICAgIGNvbnN0IGlzRmlyc3QgPSBpbmRleCA9PT0gMDtcbiAgICAgIGNvbnN0IGlzTm90Rmlyc3QgPSBpbmRleCAhPT0gMDtcbiAgICAgIG5ld0NvbnRlbnQgKz0gdGVtcGxhdGUoc3ViVHBsLCB7IC4uLmRhdGEsIFtpdGVtXTogZWwsIGluZGV4LCBpc0ZpcnN0LCBpc0xhc3QsIGlzTm90Rmlyc3QsIGlzTm90TGFzdCB9KTtcbiAgICB9KTtcbiAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgbmV3Q29udGVudCk7XG4gIH0pO1xuXG4gIC8vIEhhbmRsZSBcImlmXCIgbWF0Y2hlc1xuICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL1E1eDB1Mi8xXG4gIGNvbnN0IGlmTWF0Y2hlcyA9IEFycmF5LmZyb20odHBsLm1hdGNoQWxsKC9cXHtcXHtpZiAoXFx3Ky4/XFx3KylcXH1cXH0oW1xcc1xcU10rPylcXHtcXHtlbmRpZlxcfVxcfS9nKSk7XG4gIGlmTWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgIGNvbnN0IGtleSA9IG1hdGNoWzFdO1xuICAgIGNvbnN0IHN1YlRwbCA9IG1hdGNoWzJdO1xuICAgIGxldCBjb25kaXRpb246IHVua25vd24gPSBkYXRhW2tleV07XG4gICAgaWYgKGtleS5pbmNsdWRlcyhcIi5cIikpIGNvbmRpdGlvbiA9IGdldEl0ZW1EYXRhKGRhdGEsIGtleSk7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgc3RyID0gc3RyLnJlcGxhY2UobWF0Y2hbMF0sIHN1YlRwbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCBcIlwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEhhbmRsZSBcInBhdHRlcm5cIiBtYXRjaGVzXG4gIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Ivelkzb0pTLzJcbiAgY29uc3QgcGF0dGVybk1hdGNoZXMgPSBBcnJheS5mcm9tKHRwbC5tYXRjaEFsbCgvXFx7XFx7KChcXHcrKShcXC4/XFx3KykqKVxcfVxcfS9nKSk7XG4gIHBhdHRlcm5NYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gbWF0Y2hbMV07XG4gICAgbGV0IGl0ZW1EYXRhOiBzdHJpbmcgPSBcIlwiO1xuICAgIGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgaXRlbURhdGEgPSBTdHJpbmcoZGF0YVtrZXldKTtcbiAgICBpZiAoa2V5LmluY2x1ZGVzKFwiLlwiKSkgaXRlbURhdGEgPSBnZXRJdGVtRGF0YShkYXRhLCBrZXkpO1xuICAgIGlmIChpdGVtRGF0YSAhPT0gdW5kZWZpbmVkICYmIGl0ZW1EYXRhICE9PSBudWxsKSB7XG4gICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgaXRlbURhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgaXRlbURhdGEgfHwgXCJcIik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0cjtcbn1cbiIsImltcG9ydCB7IHRlbXBsYXRlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3RlbXBsYXRlclwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUNvbXBvbmVudDxTdGF0ZSA9IHt9PiB7XG4gIHByb3RlY3RlZCBzdGF0ZTogUGFydGlhbDxTdGF0ZT4gPSB7fTtcblxuICBwcm90ZWN0ZWQgZXZlbnRzOiB7XG4gICAgW2tleTogc3RyaW5nXTogKGV2OiBFdmVudCkgPT4gdm9pZDtcbiAgfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBlbDogSFRNTEVsZW1lbnQsXG4gICAgaW5pdGlhbFN0YXRlPzogUGFydGlhbDxTdGF0ZT4sXG4gICkge1xuICAgIHRoaXMuZWwgPSBlbDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgIHRoaXMub25Nb3VudCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgc2V0RXZlbnRIYW5kbGVycygpIHtcbiAgICBPYmplY3QuZW50cmllcyh0aGlzLmV2ZW50cykuZm9yRWFjaCgoW2tleSwgY2FsbGJhY2tdKSA9PiB7XG4gICAgICBjb25zdCBbYWN0aW9uLCBzZWxlY3Rvcl0gPSBrZXkuc3BsaXQoXCJAXCIpO1xuICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGFjdGlvbiwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2V0U3RhdGUocGF0Y2g6IGFueSk6IHZvaWQge1xuICAgIGlmIChwYXRjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBvbGRTdGF0ZSA9IHsgLi4udGhpcy5zdGF0ZSB9O1xuICAgICAgdGhpcy5zdGF0ZSA9IHsgLi4udGhpcy5zdGF0ZSwgLi4ucGF0Y2ggfTtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi50aGlzLnN0YXRlIH07XG4gICAgICBpZiAoSlNPTi5zdHJpbmdpZnkob2xkU3RhdGUpICE9PSBKU09OLnN0cmluZ2lmeShuZXdTdGF0ZSkpIHtcbiAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSB0ZW1wbGF0ZSh0aGlzLnJlbmRlcigpLCB0aGlzLnN0YXRlKTtcbiAgICAgICAgdGhpcy5vbk1vdW50KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG9uTW91bnQoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5pbXBvcnQgeyBXZWF0aGVyIH0gZnJvbSBcIi4vY29tcG9uZW50cy93ZWF0aGVyL3dlYXRoZXJcIjtcbi8vIGltcG9ydCBnZXRDaXR5QnlJUCBmcm9tIFwiLi9hcGkvaXBcIjtcbmltcG9ydCBhcHBlbmRQYXJlbnRXaXRoQ2hpbGQgZnJvbSBcIi4vdXRpbHMvYXBwZW5kUGFyZW50V2l0aENoaWxkXCI7XG5cbi8vINCX0LDQv9GD0YHQuiDRgSDQvdCw0YfQsNC70YzQvdGL0Lwg0YHQvtGB0YLQvtGP0L3QuNC10LxcbmNvbnN0IGFwcCA9IGFwcGVuZFBhcmVudFdpdGhDaGlsZChkb2N1bWVudC5ib2R5LCBcImRpdlwiLCBcImFwcFwiKTtcbm5ldyBXZWF0aGVyKGFwcCwgeyBjdXJyZW50Q2l0eTogXCJ0dWxhXCIgfSkuaW5pdCgpO1xuXG4vLyAvLyDQl9Cw0L/Rg9GB0Log0YEg0L/Rg9GB0YLRi9C8INC90LDRh9Cw0LvRjNC90YvQvCDRgdC+0YHRgtC+0Y/QvdC40LXQvFxuLy8gY29uc3QgYXBwMiA9IGFwcGVuZFBhcmVudFdpdGhDaGlsZChkb2N1bWVudC5ib2R5LCBcImRpdlwiLCBcImFwcFwiKTtcbi8vIG5ldyBXZWF0aGVyKGFwcDIsIHt9KS5pbml0KCk7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBlbmRQYXJlbnRXaXRoQ2hpbGQocGFyZW50RWw6IEhUTUxFbGVtZW50LCB0YWc6IHN0cmluZywgY2hpbGRJZD86IHN0cmluZykge1xuICBjb25zdCBjaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgaWYgKGNoaWxkSWQpIHtcbiAgICBjaGlsZC5pZCA9IGNoaWxkSWQ7XG4gIH1cbiAgcGFyZW50RWwuYXBwZW5kKGNoaWxkKTtcbiAgcmV0dXJuIGNoaWxkO1xufVxuIiwiaW1wb3J0IGdldFdlYXRoZXJJbkNpdHkgZnJvbSBcIi4uLy4uL2FwaS9nZXQtd2VhdGhlclwiO1xuaW1wb3J0IGNyZWF0ZUNpdGllc0NhY2hlLCB7IENpdGllc0NhY2hlIH0gZnJvbSBcIi4uLy4uL3N0b3JlL2NpdGllcy1jYWNoZVwiO1xuaW1wb3J0IGdldENpdHlCeUlQIGZyb20gXCIuLi8uLi9hcGkvaXBcIjtcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS1jb21wb25lbnQvYmFzZS1jb21wb25lbnRcIjtcblxuZXhwb3J0IHR5cGUgU3RhdGUgPSB7XG4gIGN1cnJlbnRDaXR5OiBzdHJpbmc7XG4gIGN1cnJlbnRUZW1wOiBzdHJpbmc7XG4gIGN1cnJlbnRJY29uOiBzdHJpbmc7XG4gIGNvb3JkOiB7XG4gICAgbGF0OiBudW1iZXI7XG4gICAgbG9uOiBudW1iZXI7XG4gIH07XG4gIGNpdGllczogc3RyaW5nW107XG59O1xuXG5leHBvcnQgY2xhc3MgV2VhdGhlciBleHRlbmRzIEJhc2VDb21wb25lbnQ8U3RhdGU+IHtcbiAgcHJpdmF0ZSBjaXRpZXNDYWNoZTogQ2l0aWVzQ2FjaGU7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBpbml0aWFsU3RhdGU/OiBQYXJ0aWFsPFN0YXRlPikge1xuICAgIHN1cGVyKGVsLCBpbml0aWFsU3RhdGUpO1xuICAgIHRoaXMuY2l0aWVzQ2FjaGUgPSBjcmVhdGVDaXRpZXNDYWNoZSgpO1xuICAgIHRoaXMuY2l0aWVzQ2FjaGUuaW5pdCgpO1xuICAgIHRoaXMuY2l0aWVzQ2FjaGUuc3Vic2NyaWJlKHRoaXMuY2l0aWVzTGlzdGVuZXIpO1xuICB9XG5cbiAgcHVibGljIGluaXQoKSB7XG4gICAgY29uc3QgaW5pdGlhbENpdHkgPVxuICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50Q2l0eSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5zdGF0ZS5jdXJyZW50Q2l0eSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgOiBnZXRDaXR5QnlJUCgpO1xuXG4gICAgaW5pdGlhbENpdHlcbiAgICAgIC50aGVuKChjaXR5KSA9PiB0aGlzLnVwZGF0ZVdlYXRoZXIoY2l0eSkpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMub25Nb3VudCgpO1xuICAgICAgfSk7XG4gIH1cblxuICBjaXRpZXNMaXN0ZW5lciA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgY2l0aWVzOiB0aGlzLmNpdGllc0NhY2hlLmNpdGllcyB9KTtcbiAgfTtcblxuICBvblVubW91bnQoKSB7XG4gICAgdGhpcy5jaXRpZXNDYWNoZS51bnN1YnNjcmliZSh0aGlzLmNpdGllc0xpc3RlbmVyKTtcbiAgfVxuXG4gIHByaXZhdGUgb25TdWJtaXQgPSAoZXY6IEV2ZW50KSA9PiB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpbnB1dENpdHlFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcihcIiNpbnB1dENpdHlcIikgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBjaXR5ID0gaW5wdXRDaXR5RWwudmFsdWUudHJpbSgpO1xuICAgIGlmIChjaXR5ICE9PSBcIlwiKSB7XG4gICAgICB0aGlzLnVwZGF0ZVdlYXRoZXIoY2l0eSk7XG4gICAgICBpbnB1dENpdHlFbC52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgb25DaXR5U2VsZWN0ID0gKGV2OiBFdmVudCkgPT4ge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXYudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGNpdHkgPSB0YXJnZXQuaW5uZXJIVE1MO1xuICAgIHRoaXMudXBkYXRlV2VhdGhlcihjaXR5KTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZVdlYXRoZXIgPSBhc3luYyAoY2l0eTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3Qgd2VhdGhlciA9IGF3YWl0IGdldFdlYXRoZXJJbkNpdHkoY2l0eSk7XG4gICAgaWYgKHdlYXRoZXIgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50Q2l0eTogd2VhdGhlci5jaXR5LFxuICAgICAgICBjdXJyZW50VGVtcDogd2VhdGhlci50ZW1wLFxuICAgICAgICBjdXJyZW50SWNvbjogd2VhdGhlci5pY29uLFxuICAgICAgICBjb29yZDogeyBsYXQ6IHdlYXRoZXIuY29vcmRbMF0sIGxvbjogd2VhdGhlci5jb29yZFsxXSB9LFxuICAgICAgfSk7XG4gICAgICB0aGlzLmNpdGllc0NhY2hlLmFkZENpdHkod2VhdGhlci5jaXR5KTtcbiAgICB9XG4gIH07XG5cbiAgZXZlbnRzID0ge1xuICAgIFwic3VibWl0QGZvcm0jaW5wdXRHcm91cFwiOiB0aGlzLm9uU3VibWl0LFxuICAgIFwiY2xpY2tAbGkuc2F2ZWRDaXR5XCI6IHRoaXMub25DaXR5U2VsZWN0LFxuICB9O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gYFxuICAgIDxoMSBpZD1cImhlYWRlclwiPtCf0YDQvtCz0L3QvtC3INC/0L7Qs9C+0LTRizwvaDE+XG4gICAgPGRpdiBpZD1cImN1cnJlbnRXZWF0aGVyXCI+XG4gICAgICA8ZGl2IGlkPVwiY3VycmVudENpdHlcIj57e2lmIGN1cnJlbnRDaXR5fX17e2N1cnJlbnRDaXR5fX17e2VuZGlmfX08L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCJjdXJyZW50VGVtcFwiPnt7aWYgY3VycmVudFRlbXB9fXt7Y3VycmVudFRlbXB9fXt7ZW5kaWZ9fTwvZGl2PlxuICAgICAgPGRpdiBpZD1cImN1cnJlbnRJY29uXCI+XG4gICAgICB7e2lmIGN1cnJlbnRJY29ufX08aW1nIHNyYz1cImh0dHBzOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi97e2N1cnJlbnRJY29ufX1AMngucG5nXCI+e3tlbmRpZn19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8Zm9ybSBpZD1cImlucHV0R3JvdXBcIj48aW5wdXQgaWQ9XCJpbnB1dENpdHlcIiBwbGFjZWhvbGRlcj1cIkVudGVyIGNpdHlcIj5cbiAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBpZD1cInN1Ym1pdEJ0blwiPtCf0L7Qu9GD0YfQuNGC0Ywg0L/QvtCz0L7QtNGDPC9idXR0b24+XG4gICAgPC9mb3JtPlxuICAgIDx1bCBpZD1cInNhdmVkQ2l0aWVzTGlzdFwiPlxuICAgICAge3tmb3IgY2l0aWVzIGFzIGNpdHl9fVxuICAgICAgICA8bGkgY2xhc3M9XCJzYXZlZENpdHlcIj57e2NpdHl9fTwvbGk+XG4gICAgICB7e2VuZGZvcn19XG4gICAgPC91bD5cbiAgICA8ZGl2IGlkPVwibWFwXCI+e3tpZiBjb29yZH19XG4gICAgPGltZyBjbGFzcz1cInltYXBcIiBzcmM9XCJodHRwczovL3N0YXRpYy1tYXBzLnlhbmRleC5ydS92MT9sbD17e2Nvb3JkLmxhdH19LHt7Y29vcmQubG9ufX0mbGFuZz1ydV9SVSZ6PTEyJnB0PXt7Y29vcmQubGF0fX0se3tjb29yZC5sb259fSxjb21tYSZhcGlrZXk9YjdkMTZlMmItOTM4Yi00ODA5LWI3NGItNWFlOTdiMTYyZjAwXCI+XG4gICAge3tlbmRpZn19PC9kaXY+YDtcbiAgfVxufVxuIiwiY29uc3QgQVBJX0tFWSA9IFwiYWI0NjM5ZjU3NTQyNzFlNzczZWQ2ZDNmZmQ3M2YzMjdcIjtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZ2V0V2VhdGhlckluQ2l0eShcbiAgY2l0eU5hbWU6IHN0cmluZyxcbiAgbGFuZyA9IFwicnVcIixcbik6IFByb21pc2U8eyBjaXR5OiBzdHJpbmc7IHRlbXA6IHN0cmluZzsgaWNvbjogc3RyaW5nOyBjb29yZDogW251bWJlciwgbnVtYmVyXTsgY29kPzogbnVtYmVyIH0gfCBudWxsPiB7XG4gIGNvbnN0IHVuaXRzID0gXCJtZXRyaWNcIjtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICBgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2NpdHlOYW1lfSZhcHBpZD0ke0FQSV9LRVl9JnVuaXRzPSR7dW5pdHN9Jmxhbmc9JHtsYW5nfWAsXG4gICk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIGxldCBjaXR5O1xuICBsZXQgdGVtcDtcbiAgbGV0IGljb247XG4gIGxldCBjb29yZDogW251bWJlciwgbnVtYmVyXTtcbiAgaWYgKGRhdGEuY29kID09PSAyMDApIHtcbiAgICBjaXR5ID0gZGF0YS5uYW1lO1xuICAgIHRlbXAgPSBTdHJpbmcoTWF0aC5yb3VuZChkYXRhLm1haW4udGVtcCkpO1xuICAgIGljb24gPSBkYXRhLndlYXRoZXJbMF0uaWNvbjtcbiAgICBjb29yZCA9IFtkYXRhLmNvb3JkLmxvbiwgZGF0YS5jb29yZC5sYXRdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB7IGNpdHksIHRlbXAsIGljb24sIGNvb3JkIH07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlSXRlbShrZXk6IHN0cmluZykge1xuICBsZXQgcmVzdWx0O1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgcmVzdWx0ID0gcmVzID09PSBudWxsID8gbnVsbCA6IEpTT04ucGFyc2UocmVzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVzdWx0ID0gbnVsbDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TG9jYWxTdG9yYWdlSXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IHN0cmluZ1tdKSB7XG4gIGNvbnN0IHNhdmVkVmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gIHJldHVybiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHNhdmVkVmFsdWUpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2l0eUJ5SVAoKSB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiaHR0cHM6Ly9nZXQuZ2VvanMuaW8vdjEvaXAvZ2VvLmpzb25cIik7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcy5qc29uKCk7XG4gIHJldHVybiByZXN1bHQuY2l0eTtcbn1cbiJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJsb2NhbHMiLCJDSVRZX0xJU1QiLCJnZXRJdGVtRGF0YSIsImtleXMiLCJzcGxpdCIsInRlbXBsYXRlIiwidHBsIiwic3RyIiwiQXJyYXkiLCJmcm9tIiwibWF0Y2hBbGwiLCJmb3JFYWNoIiwibWF0Y2giLCJpdGVtcyIsInN1YlRwbCIsIml0ZXJhYmxlIiwibmV3Q29udGVudCIsImVsIiwiaXNMYXN0IiwiaXNOb3RMYXN0IiwiaXNGaXJzdCIsImlzTm90Rmlyc3QiLCJfb2JqZWN0U3ByZWFkIiwicmVwbGFjZSIsImNvbmRpdGlvbiIsImluY2x1ZGVzIiwiaXRlbURhdGEiLCJTdHJpbmciLCJCYXNlQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJpbml0aWFsU3RhdGUiLCJfZGVmaW5lUHJvcGVydHkiLCJzZXRUaW1lb3V0Iiwic2V0U3RhdGUiLCJvbk1vdW50Iiwic2V0RXZlbnRIYW5kbGVycyIsImVudHJpZXMiLCJldmVudHMiLCJjYWxsYmFjayIsImFjdGlvbiIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXRjaCIsIm9sZFN0YXRlIiwic3RhdGUiLCJuZXdTdGF0ZSIsImlubmVySFRNTCIsInJlbmRlciIsImFwcCIsInBhcmVudEVsIiwidGFnIiwiY2hpbGRJZCIsImNoaWxkIiwiYXBwZW5kIiwiYXBwZW5kUGFyZW50V2l0aENoaWxkIiwiYm9keSIsInN1cGVyIiwiY2l0aWVzIiwiY2l0aWVzQ2FjaGUiLCJldiIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRDaXR5RWwiLCJjaXR5IiwidmFsdWUiLCJ0cmltIiwidXBkYXRlV2VhdGhlciIsImFzeW5jIiwid2VhdGhlciIsImNpdHlOYW1lIiwibGFuZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwidGVtcCIsImljb24iLCJjb29yZCIsImNvZCIsIm5hbWUiLCJNYXRoIiwicm91bmQiLCJtYWluIiwibG9uIiwibGF0IiwiZ2V0V2VhdGhlckluQ2l0eSIsImN1cnJlbnRDaXR5IiwiY3VycmVudFRlbXAiLCJjdXJyZW50SWNvbiIsImFkZENpdHkiLCJvblN1Ym1pdCIsIm9uQ2l0eVNlbGVjdCIsImxpc3RlbmVycyIsImluaXQiLCJsb2FkSXRlbXMiLCJyZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2UiLCJlcnIiLCJnZXRMb2NhbFN0b3JhZ2VJdGVtIiwic2F2ZUl0ZW1zIiwic2F2ZWRWYWx1ZSIsInNldEl0ZW0iLCJzZXRMb2NhbFN0b3JhZ2VJdGVtIiwibmV3SXRlbSIsInRvVXBwZXJDYXNlIiwidGVtcEFyciIsInBvcCIsImxpc3RlbmVyIiwic3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJmaWx0ZXIiLCJjaXRpZXNMaXN0ZW5lciIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0Q2l0eUJ5SVAiLCJ0aGVuIiwib25Vbm1vdW50Il0sInNvdXJjZVJvb3QiOiIifQ==